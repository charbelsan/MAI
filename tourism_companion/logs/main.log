2024-05-16 11:43:39,780 - root - INFO - Load APP on MAIN
2024-05-16 11:43:39,781 - root - INFO - Loaded API Key:, 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
2024-05-16 11:46:08,835 - root - INFO - Load APP on MAIN
2024-05-16 11:46:08,835 - root - INFO - Loaded API Key:, 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
2024-05-16 12:11:24,206 - root - INFO - Load APP on MAIN
2024-05-16 12:11:24,206 - root - INFO - Loaded API Key:, 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
2024-05-16 12:20:59,251 - root - INFO - Load APP on MAIN
2024-05-16 12:20:59,251 - root - INFO - Loaded API Key:, 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
2024-05-16 12:24:45,358 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'You are a helpful assistant that translates English to Yoruba.', 'role': 'system'}, {'content': 'Hello, how are you?', 'role': 'user'}], 'model': 'gpt-4o', 'max_tokens': 150, 'n': 1, 'stream': False, 'temperature': 0.0}}
2024-05-16 12:24:45,369 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-05-16 12:24:45,369 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2024-05-16 12:24:45,386 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3b7cba2b30>
2024-05-16 12:24:45,387 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f3affb89f40> server_hostname='api.openai.com' timeout=None
2024-05-16 12:24:45,397 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3b7cba2890>
2024-05-16 12:24:45,397 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-05-16 12:24:45,398 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-05-16 12:24:45,398 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-05-16 12:24:45,399 - httpcore.http11 - DEBUG - send_request_body.complete
2024-05-16 12:24:45,399 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-05-16 12:24:46,033 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 16 May 2024 12:24:46 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'exxact-robotics'), (b'openai-processing-ms', b'330'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=15724800; includeSubDomains'), (b'x-ratelimit-limit-requests', b'500'), (b'x-ratelimit-limit-tokens', b'30000'), (b'x-ratelimit-remaining-requests', b'499'), (b'x-ratelimit-remaining-tokens', b'29827'), (b'x-ratelimit-reset-requests', b'120ms'), (b'x-ratelimit-reset-tokens', b'346ms'), (b'x-request-id', b'req_69a3882b87f4910753679a09b80feadd'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=zkCwEmKPJg_i.29usSTzZTdFRTL6cV2wATBWKYYfIAA-1715862286-1.0.1.1-HocRe4n4m9RkBD6OmhiD9eyC2aLGZ9fzwqqVaC0s68x4FUKz.7xf2wA4xVdRb227rVaALrQZC8z1s9xv12bQsw; path=/; expires=Thu, 16-May-24 12:54:46 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=aJV91tCTJJYRQBVkrrbIulJetpDJzJdU6qI_PJezZf4-1715862286030-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'884b58b3cc6900ca-CDG'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-05-16 12:24:46,035 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-05-16 12:24:46,035 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-05-16 12:24:46,036 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-05-16 12:24:46,036 - httpcore.http11 - DEBUG - response_closed.started
2024-05-16 12:24:46,036 - httpcore.http11 - DEBUG - response_closed.complete
2024-05-16 12:24:46,037 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Thu, 16 May 2024 12:24:46 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'exxact-robotics'), ('openai-processing-ms', '330'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=15724800; includeSubDomains'), ('x-ratelimit-limit-requests', '500'), ('x-ratelimit-limit-tokens', '30000'), ('x-ratelimit-remaining-requests', '499'), ('x-ratelimit-remaining-tokens', '29827'), ('x-ratelimit-reset-requests', '120ms'), ('x-ratelimit-reset-tokens', '346ms'), ('x-request-id', 'req_69a3882b87f4910753679a09b80feadd'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=zkCwEmKPJg_i.29usSTzZTdFRTL6cV2wATBWKYYfIAA-1715862286-1.0.1.1-HocRe4n4m9RkBD6OmhiD9eyC2aLGZ9fzwqqVaC0s68x4FUKz.7xf2wA4xVdRb227rVaALrQZC8z1s9xv12bQsw; path=/; expires=Thu, 16-May-24 12:54:46 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=aJV91tCTJJYRQBVkrrbIulJetpDJzJdU6qI_PJezZf4-1715862286030-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '884b58b3cc6900ca-CDG'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-05-16 12:24:46,037 - openai._base_client - DEBUG - request_id: req_69a3882b87f4910753679a09b80feadd
2024-05-16 12:25:00,848 - app.utils.helpers - INFO - Checking existence of user with ID: 1
2024-05-16 12:25:00,868 - app.utils.helpers - INFO - User with ID 1 not found, creating new user.
2024-05-16 12:25:00,887 - app.utils.helpers - INFO - New session created for user ID 1: f3594217-f23b-4e90-a69e-205b9389919a
2024-05-16 12:25:00,889 - root - INFO - Transcription: Bonjour  <class 'str'>
2024-05-16 12:25:00,906 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': "You are an AI assistant that analyzes user requests to determine the appropriate action. Based on the user's input, you should categorize the request into one of the following categories: 'tourist_circuit' for creating or refining a tourist circuit, 'find_nearby' for finding nearby places, 'validate_circuit' for validating a tourist circuit, or 'other' for any other type of request. Analyze the user's input and return a JSON object with a single key 'flag' and the corresponding action value. For example, flag: detected_flag. Be precise and clear in your categorization."}, {'role': 'user', 'content': 'Bonjour'}], 'model': 'gpt-4o', 'max_tokens': 150, 'n': 1, 'stream': False, 'temperature': 0.2}}
2024-05-16 12:25:00,906 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-05-16 12:25:00,907 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2024-05-16 12:25:00,916 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3aff3de650>
2024-05-16 12:25:00,916 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f3c0170e740> server_hostname='api.openai.com' timeout=None
2024-05-16 12:25:00,927 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3aff3de620>
2024-05-16 12:25:00,927 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-05-16 12:25:00,928 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-05-16 12:25:00,928 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-05-16 12:25:00,928 - httpcore.http11 - DEBUG - send_request_body.complete
2024-05-16 12:25:00,928 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-05-16 12:25:01,549 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 16 May 2024 12:25:01 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'exxact-robotics'), (b'openai-processing-ms', b'323'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=15724800; includeSubDomains'), (b'x-ratelimit-limit-requests', b'500'), (b'x-ratelimit-limit-tokens', b'30000'), (b'x-ratelimit-remaining-requests', b'499'), (b'x-ratelimit-remaining-tokens', b'29702'), (b'x-ratelimit-reset-requests', b'120ms'), (b'x-ratelimit-reset-tokens', b'596ms'), (b'x-request-id', b'req_aeb7ff2933b73146d88d29812304c7f8'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=.IgYZvjtWzcxR9Gb.E9JLIU8ORX3laBZoYpoRxS0Q.c-1715862301-1.0.1.1-0hRL_nFKD4wJW2ox2p23cV3ndK_PP2hX3gH8kSmtIj0OTqJniYNiaGe6ikaZ3iZALchWodKPqu.Pa4K_EFd3Ww; path=/; expires=Thu, 16-May-24 12:55:01 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=BDB_j5Ibam5TCrgMCvaVjME435yhYAj21RVziweJkLw-1715862301545-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'884b5914d820025b-CDG'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-05-16 12:25:01,550 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-05-16 12:25:01,550 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-05-16 12:25:01,551 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-05-16 12:25:01,551 - httpcore.http11 - DEBUG - response_closed.started
2024-05-16 12:25:01,551 - httpcore.http11 - DEBUG - response_closed.complete
2024-05-16 12:25:01,552 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Thu, 16 May 2024 12:25:01 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'exxact-robotics'), ('openai-processing-ms', '323'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=15724800; includeSubDomains'), ('x-ratelimit-limit-requests', '500'), ('x-ratelimit-limit-tokens', '30000'), ('x-ratelimit-remaining-requests', '499'), ('x-ratelimit-remaining-tokens', '29702'), ('x-ratelimit-reset-requests', '120ms'), ('x-ratelimit-reset-tokens', '596ms'), ('x-request-id', 'req_aeb7ff2933b73146d88d29812304c7f8'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=.IgYZvjtWzcxR9Gb.E9JLIU8ORX3laBZoYpoRxS0Q.c-1715862301-1.0.1.1-0hRL_nFKD4wJW2ox2p23cV3ndK_PP2hX3gH8kSmtIj0OTqJniYNiaGe6ikaZ3iZALchWodKPqu.Pa4K_EFd3Ww; path=/; expires=Thu, 16-May-24 12:55:01 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=BDB_j5Ibam5TCrgMCvaVjME435yhYAj21RVziweJkLw-1715862301545-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '884b5914d820025b-CDG'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-05-16 12:25:01,552 - openai._base_client - DEBUG - request_id: req_aeb7ff2933b73146d88d29812304c7f8
2024-05-16 12:25:01,554 - root - INFO - Action Flag: ```json
{
  "flag": "other"
}
```
2024-05-16 12:25:01,567 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': "You are a tourism companion AI designed to assist users with travel-related inquiries. Your primary functions include:\n\n1. Providing information about tourist attractions, landmarks, and cultural sites.\n2. Giving travel advice, including transportation, accommodation, and dining options.\n3. Translating text and audio inputs between languages.\n4. Describing images related to travel and tourism.\n5. Offering general tips on local customs, weather, and safety.\n6. Performing web searches to provide relevant information based on user queries.\n7. Determining if the request needs GPS information to find nearby places like restaurants, hotels, or tourist spots.\n\nPlease adhere to the following guidelines:\n\n1. Decline any requests that are not related to travel and tourism.\n2. Do not provide medical, legal, or financial advice. Politely inform the user that you cannot assist with these matters.\n3. Avoid engaging in any inappropriate or harmful conversations. If a user makes such a request, decline it and remind them of your role.\n4. If you are unsure about an answer, suggest reliable sources or advise the user to consult local authorities or professionals.\n\nYour goal is to be helpful, polite, and informative, enhancing the user's travel experience. Always prioritize the user's safety and well-being."}, {'role': 'user', 'content': 'Bonjour\n\nContext:\nNo additional context available.\nAI:'}], 'model': 'gpt-4o', 'max_tokens': 150, 'n': 1, 'stream': False, 'temperature': 0.5}}
2024-05-16 12:25:01,568 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-05-16 12:25:01,569 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2024-05-16 12:25:01,576 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3aff3dfb80>
2024-05-16 12:25:01,576 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f3c0278f7c0> server_hostname='api.openai.com' timeout=None
2024-05-16 12:25:01,587 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3aff3dfb50>
2024-05-16 12:25:01,587 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-05-16 12:25:01,587 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-05-16 12:25:01,588 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-05-16 12:25:01,588 - httpcore.http11 - DEBUG - send_request_body.complete
2024-05-16 12:25:01,588 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-05-16 12:25:03,489 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 16 May 2024 12:25:03 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'exxact-robotics'), (b'openai-processing-ms', b'1592'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=15724800; includeSubDomains'), (b'x-ratelimit-limit-requests', b'500'), (b'x-ratelimit-limit-tokens', b'30000'), (b'x-ratelimit-remaining-requests', b'499'), (b'x-ratelimit-remaining-tokens', b'29507'), (b'x-ratelimit-reset-requests', b'120ms'), (b'x-ratelimit-reset-tokens', b'986ms'), (b'x-request-id', b'req_3ef80b9294c1a78616489f32b78a7381'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=aOVoHLX0roa0z8AmYIyBCYs55OpJJWoeqxhl3QfUn4I-1715862303-1.0.1.1-BYG_gf4p_Eq8xSCElpFuIYRW96F15rvX18Pnf5pOCKUNnxvQExvOvgAJKVCvH1IW548_x04VDmHPncZSyh6ZaQ; path=/; expires=Thu, 16-May-24 12:55:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=IPY49HB.mJbrjNXZyUNWRr3.w4bKobnxD8e_buqQilU-1715862303484-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'884b5918eeee2a32-CDG'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-05-16 12:25:03,490 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-05-16 12:25:03,490 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-05-16 12:25:03,491 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-05-16 12:25:03,491 - httpcore.http11 - DEBUG - response_closed.started
2024-05-16 12:25:03,491 - httpcore.http11 - DEBUG - response_closed.complete
2024-05-16 12:25:03,491 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Thu, 16 May 2024 12:25:03 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'exxact-robotics'), ('openai-processing-ms', '1592'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=15724800; includeSubDomains'), ('x-ratelimit-limit-requests', '500'), ('x-ratelimit-limit-tokens', '30000'), ('x-ratelimit-remaining-requests', '499'), ('x-ratelimit-remaining-tokens', '29507'), ('x-ratelimit-reset-requests', '120ms'), ('x-ratelimit-reset-tokens', '986ms'), ('x-request-id', 'req_3ef80b9294c1a78616489f32b78a7381'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=aOVoHLX0roa0z8AmYIyBCYs55OpJJWoeqxhl3QfUn4I-1715862303-1.0.1.1-BYG_gf4p_Eq8xSCElpFuIYRW96F15rvX18Pnf5pOCKUNnxvQExvOvgAJKVCvH1IW548_x04VDmHPncZSyh6ZaQ; path=/; expires=Thu, 16-May-24 12:55:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=IPY49HB.mJbrjNXZyUNWRr3.w4bKobnxD8e_buqQilU-1715862303484-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '884b5918eeee2a32-CDG'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-05-16 12:25:03,492 - openai._base_client - DEBUG - request_id: req_3ef80b9294c1a78616489f32b78a7381
2024-05-16 12:26:20,406 - root - INFO - Load APP on MAIN
2024-05-16 12:26:20,406 - root - INFO - Loaded API Key:, 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
2024-05-16 12:27:48,322 - app.utils.helpers - INFO - Checking existence of user with ID: 1
2024-05-16 12:27:48,343 - app.utils.helpers - INFO - Existing session found for user ID 1: f3594217-f23b-4e90-a69e-205b9389919a
2024-05-16 12:27:48,345 - root - INFO - Transcription: Bonjour  <class 'str'>
2024-05-16 12:27:48,372 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': "You are an AI assistant that analyzes user requests to determine the appropriate action. Based on the user's input, you should categorize the request into one of the following categories: 'tourist_circuit' for creating or refining a tourist circuit, 'find_nearby' for finding nearby places, 'validate_circuit' for validating a tourist circuit, or 'other' for any other type of request. Analyze the user's input and return a JSON object with a single key 'flag' and the corresponding action value. For example, flag: detected_flag. Be precise and clear in your categorization."}, {'role': 'user', 'content': 'Bonjour'}], 'model': 'gpt-4o', 'max_tokens': 150, 'n': 1, 'stream': False, 'temperature': 0.2}}
2024-05-16 12:27:48,382 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-05-16 12:27:48,382 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2024-05-16 12:27:48,391 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fa38b00a620>
2024-05-16 12:27:48,392 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fa48d89a740> server_hostname='api.openai.com' timeout=None
2024-05-16 12:27:48,402 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fa38b00a380>
2024-05-16 12:27:48,402 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-05-16 12:27:48,403 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-05-16 12:27:48,403 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-05-16 12:27:48,404 - httpcore.http11 - DEBUG - send_request_body.complete
2024-05-16 12:27:48,404 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-05-16 12:27:49,356 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 16 May 2024 12:27:49 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'exxact-robotics'), (b'openai-processing-ms', b'644'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=15724800; includeSubDomains'), (b'x-ratelimit-limit-requests', b'500'), (b'x-ratelimit-limit-tokens', b'30000'), (b'x-ratelimit-remaining-requests', b'499'), (b'x-ratelimit-remaining-tokens', b'29702'), (b'x-ratelimit-reset-requests', b'120ms'), (b'x-ratelimit-reset-tokens', b'596ms'), (b'x-request-id', b'req_9144f21382dd7914c7ceb02c04a4f182'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=mvOiDuCrG.C4CBROnH0Kll6qpJGhCc3y.lLlD3Njyz8-1715862469-1.0.1.1-RsMZVov8FOHAfDrK.Xbj5jghxbYOP_3TqcfFRzWrRPQVo6yyyWeMaS_a5JU5qPOuA_ZIUcERh1DYrLYGyXEHpg; path=/; expires=Thu, 16-May-24 12:57:49 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=im2bXuFyxJE7xCwbSOFCjnADBB.VRbOZXwQAPR2JAIo-1715862469352-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'884b5d2b8cfb9e51-CDG'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-05-16 12:27:49,358 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-05-16 12:27:49,358 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-05-16 12:27:49,359 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-05-16 12:27:49,359 - httpcore.http11 - DEBUG - response_closed.started
2024-05-16 12:27:49,359 - httpcore.http11 - DEBUG - response_closed.complete
2024-05-16 12:27:49,360 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Thu, 16 May 2024 12:27:49 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'exxact-robotics'), ('openai-processing-ms', '644'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=15724800; includeSubDomains'), ('x-ratelimit-limit-requests', '500'), ('x-ratelimit-limit-tokens', '30000'), ('x-ratelimit-remaining-requests', '499'), ('x-ratelimit-remaining-tokens', '29702'), ('x-ratelimit-reset-requests', '120ms'), ('x-ratelimit-reset-tokens', '596ms'), ('x-request-id', 'req_9144f21382dd7914c7ceb02c04a4f182'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=mvOiDuCrG.C4CBROnH0Kll6qpJGhCc3y.lLlD3Njyz8-1715862469-1.0.1.1-RsMZVov8FOHAfDrK.Xbj5jghxbYOP_3TqcfFRzWrRPQVo6yyyWeMaS_a5JU5qPOuA_ZIUcERh1DYrLYGyXEHpg; path=/; expires=Thu, 16-May-24 12:57:49 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=im2bXuFyxJE7xCwbSOFCjnADBB.VRbOZXwQAPR2JAIo-1715862469352-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '884b5d2b8cfb9e51-CDG'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-05-16 12:27:49,360 - openai._base_client - DEBUG - request_id: req_9144f21382dd7914c7ceb02c04a4f182
2024-05-16 12:27:49,377 - root - INFO - Action Flag: ```json
{
  "flag": "other"
}
```
2024-05-16 12:27:49,391 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': "You are a tourism companion AI designed to assist users with travel-related inquiries. Your primary functions include:\n\n1. Providing information about tourist attractions, landmarks, and cultural sites.\n2. Giving travel advice, including transportation, accommodation, and dining options.\n3. Translating text and audio inputs between languages.\n4. Describing images related to travel and tourism.\n5. Offering general tips on local customs, weather, and safety.\n6. Performing web searches to provide relevant information based on user queries.\n7. Determining if the request needs GPS information to find nearby places like restaurants, hotels, or tourist spots.\n\nPlease adhere to the following guidelines:\n\n1. Decline any requests that are not related to travel and tourism.\n2. Do not provide medical, legal, or financial advice. Politely inform the user that you cannot assist with these matters.\n3. Avoid engaging in any inappropriate or harmful conversations. If a user makes such a request, decline it and remind them of your role.\n4. If you are unsure about an answer, suggest reliable sources or advise the user to consult local authorities or professionals.\n\nYour goal is to be helpful, polite, and informative, enhancing the user's travel experience. Always prioritize the user's safety and well-being."}, {'role': 'user', 'content': 'Bonjour\n\nContext:\nNo additional context available.\nAI:'}], 'model': 'gpt-4o', 'max_tokens': 150, 'n': 1, 'stream': False, 'temperature': 0.5}}
2024-05-16 12:27:49,392 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-05-16 12:27:49,392 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2024-05-16 12:27:49,400 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fa408611fc0>
2024-05-16 12:27:49,401 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fa48e91b7c0> server_hostname='api.openai.com' timeout=None
2024-05-16 12:27:49,414 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fa408611f90>
2024-05-16 12:27:49,414 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-05-16 12:27:49,415 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-05-16 12:27:49,415 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-05-16 12:27:49,415 - httpcore.http11 - DEBUG - send_request_body.complete
2024-05-16 12:27:49,415 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-05-16 12:27:50,435 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 16 May 2024 12:27:50 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'exxact-robotics'), (b'openai-processing-ms', b'803'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=15724800; includeSubDomains'), (b'x-ratelimit-limit-requests', b'500'), (b'x-ratelimit-limit-tokens', b'30000'), (b'x-ratelimit-remaining-requests', b'499'), (b'x-ratelimit-remaining-tokens', b'29507'), (b'x-ratelimit-reset-requests', b'120ms'), (b'x-ratelimit-reset-tokens', b'986ms'), (b'x-request-id', b'req_4fefd52fe285e69f0652f473abbcef93'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=XlsWt6k341Ourlg_Dchkzmi5u8wjtf77N6MZ7W0sKTM-1715862470-1.0.1.1-LcgVi.iCIS62cJgYVNRyYG5SYZNfhuWwHWWkMYco0RxQZ3vjLRUwHp52g2VVtbyIp4MoPWQ886LeJMrWHYMdFA; path=/; expires=Thu, 16-May-24 12:57:50 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=hPEusVqEamp4pGPY7teELA31DmTexFGyysngDUHz_eA-1715862470431-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'884b5d31d90f791b-CDG'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-05-16 12:27:50,436 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-05-16 12:27:50,437 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-05-16 12:27:50,437 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-05-16 12:27:50,437 - httpcore.http11 - DEBUG - response_closed.started
2024-05-16 12:27:50,438 - httpcore.http11 - DEBUG - response_closed.complete
2024-05-16 12:27:50,438 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Thu, 16 May 2024 12:27:50 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'exxact-robotics'), ('openai-processing-ms', '803'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=15724800; includeSubDomains'), ('x-ratelimit-limit-requests', '500'), ('x-ratelimit-limit-tokens', '30000'), ('x-ratelimit-remaining-requests', '499'), ('x-ratelimit-remaining-tokens', '29507'), ('x-ratelimit-reset-requests', '120ms'), ('x-ratelimit-reset-tokens', '986ms'), ('x-request-id', 'req_4fefd52fe285e69f0652f473abbcef93'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=XlsWt6k341Ourlg_Dchkzmi5u8wjtf77N6MZ7W0sKTM-1715862470-1.0.1.1-LcgVi.iCIS62cJgYVNRyYG5SYZNfhuWwHWWkMYco0RxQZ3vjLRUwHp52g2VVtbyIp4MoPWQ886LeJMrWHYMdFA; path=/; expires=Thu, 16-May-24 12:57:50 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=hPEusVqEamp4pGPY7teELA31DmTexFGyysngDUHz_eA-1715862470431-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '884b5d31d90f791b-CDG'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-05-16 12:27:50,438 - openai._base_client - DEBUG - request_id: req_4fefd52fe285e69f0652f473abbcef93
2024-05-16 12:41:17,907 - root - INFO - Load APP on MAIN
2024-05-16 12:41:17,908 - root - INFO - Loaded API Key:, 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
2024-05-16 12:41:41,631 - app.utils.helpers - INFO - Checking existence of user with ID: 1
2024-05-16 12:41:41,651 - app.utils.helpers - INFO - Existing session found for user ID 1: f3594217-f23b-4e90-a69e-205b9389919a
2024-05-16 12:43:39,726 - root - INFO - Load APP on MAIN
2024-05-16 12:43:39,727 - root - INFO - Loaded API Key:, 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
2024-05-16 12:49:14,157 - root - INFO - Load APP on MAIN
2024-05-16 12:49:14,158 - root - INFO - Loaded API Key:, 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
2024-05-16 12:49:55,701 - root - INFO - Load APP on MAIN
2024-05-16 12:49:55,701 - root - INFO - Loaded API Key:, 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
2024-05-16 12:50:40,448 - app.utils.helpers - INFO - Checking existence of user with ID: 1
2024-05-16 12:50:40,468 - app.utils.helpers - INFO - Existing session found for user ID 1: f3594217-f23b-4e90-a69e-205b9389919a
2024-05-16 12:52:14,101 - app.utils.helpers - INFO - Checking existence of user with ID: 2
2024-05-16 12:52:14,102 - app.utils.helpers - INFO - User with ID 2 not found, creating new user.
2024-05-16 12:52:14,121 - app.utils.helpers - INFO - New session created for user ID 2: 4d36c0a3-37f5-4a34-940f-1fa7b9eb1477
2024-05-16 12:52:14,122 - root - INFO - Transcription: Bonjour  <class 'str'>
2024-05-16 12:52:14,148 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': "You are an AI assistant that analyzes user requests to determine the appropriate action. Based on the user's input, you should categorize the request into one of the following categories: 'tourist_circuit' for creating or refining a tourist circuit, 'find_nearby' for finding nearby places, 'validate_circuit' for validating a tourist circuit, or 'other' for any other type of request. Analyze the user's input and return a JSON object with a single key 'flag' and the corresponding action value. For example, flag: detected_flag. Be precise and clear in your categorization."}, {'role': 'user', 'content': 'Bonjour'}], 'model': 'gpt-4o', 'max_tokens': 150, 'n': 1, 'stream': False, 'temperature': 0.2}}
2024-05-16 12:52:14,158 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-05-16 12:52:14,158 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2024-05-16 12:52:14,167 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f2cea69dd50>
2024-05-16 12:52:14,167 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f2de9661fc0> server_hostname='api.openai.com' timeout=None
2024-05-16 12:52:14,177 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f2cea69dab0>
2024-05-16 12:52:14,177 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-05-16 12:52:14,177 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-05-16 12:52:14,178 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-05-16 12:52:14,178 - httpcore.http11 - DEBUG - send_request_body.complete
2024-05-16 12:52:14,178 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-05-16 12:52:15,034 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 16 May 2024 12:52:15 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'exxact-robotics'), (b'openai-processing-ms', b'555'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=15724800; includeSubDomains'), (b'x-ratelimit-limit-requests', b'500'), (b'x-ratelimit-limit-tokens', b'30000'), (b'x-ratelimit-remaining-requests', b'499'), (b'x-ratelimit-remaining-tokens', b'29702'), (b'x-ratelimit-reset-requests', b'120ms'), (b'x-ratelimit-reset-tokens', b'596ms'), (b'x-request-id', b'req_5888763e95f433567b8652a829d02fcd'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=xXrkqvqm3VQ.oH517UO8fsX_yXwXfBjEX1zu2Cskknc-1715863935-1.0.1.1-c9ukeP7Z4kDbmPSyoSK3U9ZE.pTni3ivnNcFn.LVnb.6nCniL9n_jNheX0R_ehqPrpCtz_mKy0u0ZD04PhFoiA; path=/; expires=Thu, 16-May-24 13:22:15 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=cJWNq98xscSqF0UYjjMayqphrCXMJR2v06NkYOUvR0Y-1715863935030-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'884b80f49af63d0b-CDG'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-05-16 12:52:15,035 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-05-16 12:52:15,036 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-05-16 12:52:15,036 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-05-16 12:52:15,036 - httpcore.http11 - DEBUG - response_closed.started
2024-05-16 12:52:15,037 - httpcore.http11 - DEBUG - response_closed.complete
2024-05-16 12:52:15,037 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Thu, 16 May 2024 12:52:15 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'exxact-robotics'), ('openai-processing-ms', '555'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=15724800; includeSubDomains'), ('x-ratelimit-limit-requests', '500'), ('x-ratelimit-limit-tokens', '30000'), ('x-ratelimit-remaining-requests', '499'), ('x-ratelimit-remaining-tokens', '29702'), ('x-ratelimit-reset-requests', '120ms'), ('x-ratelimit-reset-tokens', '596ms'), ('x-request-id', 'req_5888763e95f433567b8652a829d02fcd'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=xXrkqvqm3VQ.oH517UO8fsX_yXwXfBjEX1zu2Cskknc-1715863935-1.0.1.1-c9ukeP7Z4kDbmPSyoSK3U9ZE.pTni3ivnNcFn.LVnb.6nCniL9n_jNheX0R_ehqPrpCtz_mKy0u0ZD04PhFoiA; path=/; expires=Thu, 16-May-24 13:22:15 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=cJWNq98xscSqF0UYjjMayqphrCXMJR2v06NkYOUvR0Y-1715863935030-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '884b80f49af63d0b-CDG'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-05-16 12:52:15,038 - openai._base_client - DEBUG - request_id: req_5888763e95f433567b8652a829d02fcd
2024-05-16 12:52:15,057 - root - INFO - Action Flag: ```json
{
  "flag": "other"
}
```
2024-05-16 12:52:15,069 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': "You are a tourism companion AI designed to assist users with travel-related inquiries. Your primary functions include:\n\n1. Providing information about tourist attractions, landmarks, and cultural sites.\n2. Giving travel advice, including transportation, accommodation, and dining options.\n3. Translating text and audio inputs between languages.\n4. Describing images related to travel and tourism.\n5. Offering general tips on local customs, weather, and safety.\n6. Performing web searches to provide relevant information based on user queries.\n7. Determining if the request needs GPS information to find nearby places like restaurants, hotels, or tourist spots.\n\nPlease adhere to the following guidelines:\n\n1. Decline any requests that are not related to travel and tourism.\n2. Do not provide medical, legal, or financial advice. Politely inform the user that you cannot assist with these matters.\n3. Avoid engaging in any inappropriate or harmful conversations. If a user makes such a request, decline it and remind them of your role.\n4. If you are unsure about an answer, suggest reliable sources or advise the user to consult local authorities or professionals.\n\nYour goal is to be helpful, polite, and informative, enhancing the user's travel experience. Always prioritize the user's safety and well-being."}, {'role': 'user', 'content': 'Bonjour\n\nContext:\nNo additional context available.\nAI:'}], 'model': 'gpt-4o', 'max_tokens': 150, 'n': 1, 'stream': False, 'temperature': 0.5}}
2024-05-16 12:52:15,070 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-05-16 12:52:15,070 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2024-05-16 12:52:15,095 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f2cea724820>
2024-05-16 12:52:15,095 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f2dea6c30c0> server_hostname='api.openai.com' timeout=None
2024-05-16 12:52:15,106 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f2cea7247f0>
2024-05-16 12:52:15,107 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-05-16 12:52:15,107 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-05-16 12:52:15,107 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-05-16 12:52:15,108 - httpcore.http11 - DEBUG - send_request_body.complete
2024-05-16 12:52:15,108 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-05-16 12:52:16,547 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 16 May 2024 12:52:16 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'exxact-robotics'), (b'openai-processing-ms', b'1108'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=15724800; includeSubDomains'), (b'x-ratelimit-limit-requests', b'500'), (b'x-ratelimit-limit-tokens', b'30000'), (b'x-ratelimit-remaining-requests', b'499'), (b'x-ratelimit-remaining-tokens', b'29507'), (b'x-ratelimit-reset-requests', b'120ms'), (b'x-ratelimit-reset-tokens', b'986ms'), (b'x-request-id', b'req_d6472a38c750da4ff796704a33377120'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=iAO8RfgeW9YeD8VlsbsOhKvtaH5m7iBkwuVSJNpG2MA-1715863936-1.0.1.1-m2eWU3nbk448Y306dhuMP8bhHNl2JR_UiOJFsbwDWXOM519JIWn38uUsBvv8MSCTmyZalT5vLLWp1oUCARtnsQ; path=/; expires=Thu, 16-May-24 13:22:16 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=F4i4ff_EhltgfpTnDdwV0gTx959zW.9aSvxAHQy0J6w-1715863936543-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'884b80fa79482a1d-CDG'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-05-16 12:52:16,548 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-05-16 12:52:16,548 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-05-16 12:52:16,549 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-05-16 12:52:16,549 - httpcore.http11 - DEBUG - response_closed.started
2024-05-16 12:52:16,549 - httpcore.http11 - DEBUG - response_closed.complete
2024-05-16 12:52:16,549 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Thu, 16 May 2024 12:52:16 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'exxact-robotics'), ('openai-processing-ms', '1108'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=15724800; includeSubDomains'), ('x-ratelimit-limit-requests', '500'), ('x-ratelimit-limit-tokens', '30000'), ('x-ratelimit-remaining-requests', '499'), ('x-ratelimit-remaining-tokens', '29507'), ('x-ratelimit-reset-requests', '120ms'), ('x-ratelimit-reset-tokens', '986ms'), ('x-request-id', 'req_d6472a38c750da4ff796704a33377120'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=iAO8RfgeW9YeD8VlsbsOhKvtaH5m7iBkwuVSJNpG2MA-1715863936-1.0.1.1-m2eWU3nbk448Y306dhuMP8bhHNl2JR_UiOJFsbwDWXOM519JIWn38uUsBvv8MSCTmyZalT5vLLWp1oUCARtnsQ; path=/; expires=Thu, 16-May-24 13:22:16 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=F4i4ff_EhltgfpTnDdwV0gTx959zW.9aSvxAHQy0J6w-1715863936543-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '884b80fa79482a1d-CDG'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-05-16 12:52:16,550 - openai._base_client - DEBUG - request_id: req_d6472a38c750da4ff796704a33377120
2024-05-16 12:56:01,267 - root - INFO - Load APP on MAIN
2024-05-16 12:56:01,267 - root - INFO - Loaded API Key:, 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
2024-05-16 13:07:15,460 - root - INFO - Load APP on MAIN
2024-05-16 13:07:15,460 - root - INFO - Loaded API Key:, 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
2024-05-16 13:10:10,111 - root - INFO - Load APP on MAIN
2024-05-16 13:10:10,111 - root - INFO - Loaded API Key:, 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
2024-05-16 13:10:32,370 - root - INFO - Load APP on MAIN
2024-05-16 13:10:32,371 - root - INFO - Loaded API Key:, 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
2024-05-16 13:20:19,019 - app.utils.helpers - INFO - Checking existence of user with ID: 2
2024-05-16 13:20:19,039 - app.utils.helpers - INFO - Existing session found for user ID 2: 4d36c0a3-37f5-4a34-940f-1fa7b9eb1477
2024-05-16 13:20:19,042 - root - INFO - Transcription: quelles sont les restaurants cool a proximite  <class 'str'>
2024-05-16 13:20:19,067 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': "You are an AI assistant that analyzes user requests to determine the appropriate action. Based on the user's input, you should categorize the request into one of the following categories: 'tourist_circuit' for creating or refining a tourist circuit, 'find_nearby' for finding nearby places, 'validate_circuit' for validating a tourist circuit, or 'other' for any other type of request. Analyze the user's input and return a JSON object with a single key 'flag' and the corresponding action value. For example, flag: detected_flag. Be precise and clear in your categorization."}, {'role': 'user', 'content': 'quelles sont les restaurants cool a proximite'}], 'model': 'gpt-4o', 'max_tokens': 150, 'n': 1, 'stream': False, 'temperature': 0.2}}
2024-05-16 13:20:19,077 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-05-16 13:20:19,077 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2024-05-16 13:20:19,085 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f9e586251e0>
2024-05-16 13:20:19,085 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f9f5d72a1c0> server_hostname='api.openai.com' timeout=None
2024-05-16 13:20:19,095 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f9e58624f40>
2024-05-16 13:20:19,095 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-05-16 13:20:19,096 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-05-16 13:20:19,096 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-05-16 13:20:19,096 - httpcore.http11 - DEBUG - send_request_body.complete
2024-05-16 13:20:19,097 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-05-16 13:20:19,856 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 16 May 2024 13:20:19 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'exxact-robotics'), (b'openai-processing-ms', b'446'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=15724800; includeSubDomains'), (b'x-ratelimit-limit-requests', b'500'), (b'x-ratelimit-limit-tokens', b'30000'), (b'x-ratelimit-remaining-requests', b'499'), (b'x-ratelimit-remaining-tokens', b'29693'), (b'x-ratelimit-reset-requests', b'120ms'), (b'x-ratelimit-reset-tokens', b'614ms'), (b'x-request-id', b'req_aa94437d90ef17f492fabd7ff997f5a8'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=NlXeYPwJg2x2vTuU2LBDP6Pgeb0ShszEluIxfxFV0dM-1715865619-1.0.1.1-L9TgB2TwqtaYtzXaAO0chUK7OaJZdW1B5Ncjfk9_gwIGux8T.Kf60UVnPFOKsFT12B39pemww.N3INI1.cSIng; path=/; expires=Thu, 16-May-24 13:50:19 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=u5YEgmk3VO6r3M51vSLBwUTTq0DWGjlqDkaVTm0l3ew-1715865619852-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'884baa1758c7f1a8-CDG'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-05-16 13:20:19,857 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-05-16 13:20:19,858 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-05-16 13:20:19,858 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-05-16 13:20:19,859 - httpcore.http11 - DEBUG - response_closed.started
2024-05-16 13:20:19,859 - httpcore.http11 - DEBUG - response_closed.complete
2024-05-16 13:20:19,859 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Thu, 16 May 2024 13:20:19 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'exxact-robotics'), ('openai-processing-ms', '446'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=15724800; includeSubDomains'), ('x-ratelimit-limit-requests', '500'), ('x-ratelimit-limit-tokens', '30000'), ('x-ratelimit-remaining-requests', '499'), ('x-ratelimit-remaining-tokens', '29693'), ('x-ratelimit-reset-requests', '120ms'), ('x-ratelimit-reset-tokens', '614ms'), ('x-request-id', 'req_aa94437d90ef17f492fabd7ff997f5a8'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=NlXeYPwJg2x2vTuU2LBDP6Pgeb0ShszEluIxfxFV0dM-1715865619-1.0.1.1-L9TgB2TwqtaYtzXaAO0chUK7OaJZdW1B5Ncjfk9_gwIGux8T.Kf60UVnPFOKsFT12B39pemww.N3INI1.cSIng; path=/; expires=Thu, 16-May-24 13:50:19 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=u5YEgmk3VO6r3M51vSLBwUTTq0DWGjlqDkaVTm0l3ew-1715865619852-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '884baa1758c7f1a8-CDG'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-05-16 13:20:19,860 - openai._base_client - DEBUG - request_id: req_aa94437d90ef17f492fabd7ff997f5a8
2024-05-16 13:20:19,879 - root - INFO - Action Flag: ```json
{
  "flag": "find_nearby"
}
```
2024-05-16 13:20:19,879 - root - INFO - Place type: restaurants
2024-05-16 13:22:19,550 - root - INFO - Load APP on MAIN
2024-05-16 13:22:19,550 - root - INFO - Loaded API Key:, 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
2024-05-16 13:22:25,486 - app.utils.helpers - INFO - Checking existence of user with ID: 2
2024-05-16 13:22:25,507 - app.utils.helpers - INFO - Existing session found for user ID 2: 4d36c0a3-37f5-4a34-940f-1fa7b9eb1477
2024-05-16 13:22:25,510 - root - INFO - Transcription: quelles sont les restaurants cool a proximite  <class 'str'>
2024-05-16 13:22:25,537 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': "You are an AI assistant that analyzes user requests to determine the appropriate action. Based on the user's input, you should categorize the request into one of the following categories: 'tourist_circuit' for creating or refining a tourist circuit, 'find_nearby' for finding nearby places, 'validate_circuit' for validating a tourist circuit, or 'other' for any other type of request. Analyze the user's input and return a JSON object with a single key 'flag' and the corresponding action value. For example, flag: detected_flag. Be precise and clear in your categorization."}, {'role': 'user', 'content': 'quelles sont les restaurants cool a proximite'}], 'model': 'gpt-4o', 'max_tokens': 150, 'n': 1, 'stream': False, 'temperature': 0.2}}
2024-05-16 13:22:25,546 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-05-16 13:22:25,547 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2024-05-16 13:22:25,565 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fdf71009300>
2024-05-16 13:22:25,565 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fe0756d21c0> server_hostname='api.openai.com' timeout=None
2024-05-16 13:22:25,575 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fdf71009060>
2024-05-16 13:22:25,576 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-05-16 13:22:25,576 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-05-16 13:22:25,576 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-05-16 13:22:25,577 - httpcore.http11 - DEBUG - send_request_body.complete
2024-05-16 13:22:25,577 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-05-16 13:22:26,384 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 16 May 2024 13:22:26 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'exxact-robotics'), (b'openai-processing-ms', b'495'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=15724800; includeSubDomains'), (b'x-ratelimit-limit-requests', b'500'), (b'x-ratelimit-limit-tokens', b'30000'), (b'x-ratelimit-remaining-requests', b'499'), (b'x-ratelimit-remaining-tokens', b'29693'), (b'x-ratelimit-reset-requests', b'120ms'), (b'x-ratelimit-reset-tokens', b'614ms'), (b'x-request-id', b'req_1620b347a5f7e5434dab6e529eb99fc8'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=XG_NvwmHnx6KIGScNNRENi2AqajEnjSpDa0pHks1C5U-1715865746-1.0.1.1-N2BhRNsZrdkXNj7MHVrOn_20aN.zj3d8KCDV3p7CncVLZcF0i6BPhNT8JCI.Op5dJVdzJ_Du9I4gh3IVSIt8sA; path=/; expires=Thu, 16-May-24 13:52:26 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=WNl78MybBwdFCbyNcYJLKuz5ZUyEyiutrSGAp74KTm4-1715865746380-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'884bad2ddfdd6edb-CDG'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-05-16 13:22:26,386 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-05-16 13:22:26,386 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-05-16 13:22:26,386 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-05-16 13:22:26,387 - httpcore.http11 - DEBUG - response_closed.started
2024-05-16 13:22:26,387 - httpcore.http11 - DEBUG - response_closed.complete
2024-05-16 13:22:26,387 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Thu, 16 May 2024 13:22:26 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'exxact-robotics'), ('openai-processing-ms', '495'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=15724800; includeSubDomains'), ('x-ratelimit-limit-requests', '500'), ('x-ratelimit-limit-tokens', '30000'), ('x-ratelimit-remaining-requests', '499'), ('x-ratelimit-remaining-tokens', '29693'), ('x-ratelimit-reset-requests', '120ms'), ('x-ratelimit-reset-tokens', '614ms'), ('x-request-id', 'req_1620b347a5f7e5434dab6e529eb99fc8'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=XG_NvwmHnx6KIGScNNRENi2AqajEnjSpDa0pHks1C5U-1715865746-1.0.1.1-N2BhRNsZrdkXNj7MHVrOn_20aN.zj3d8KCDV3p7CncVLZcF0i6BPhNT8JCI.Op5dJVdzJ_Du9I4gh3IVSIt8sA; path=/; expires=Thu, 16-May-24 13:52:26 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=WNl78MybBwdFCbyNcYJLKuz5ZUyEyiutrSGAp74KTm4-1715865746380-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '884bad2ddfdd6edb-CDG'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-05-16 13:22:26,388 - openai._base_client - DEBUG - request_id: req_1620b347a5f7e5434dab6e529eb99fc8
2024-05-16 13:22:26,406 - root - INFO - Action Flag: {
  "flag": "find_nearby"
}
2024-05-16 13:22:26,406 - root - INFO - Place type: restaurants
2024-05-16 13:28:21,087 - root - INFO - Load APP on MAIN
2024-05-16 13:28:21,087 - root - INFO - Loaded API Key:, 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
2024-05-16 13:28:31,182 - app.utils.helpers - INFO - Checking existence of user with ID: 2
2024-05-16 13:28:31,207 - app.utils.helpers - INFO - Existing session found for user ID 2: 4d36c0a3-37f5-4a34-940f-1fa7b9eb1477
2024-05-16 13:28:31,210 - root - INFO - Transcription: quelles sont les restaurants cool a proximite  <class 'str'>
2024-05-16 13:28:31,240 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': "You are an AI assistant that analyzes user requests to determine the appropriate action. Based on the user's input, you should categorize the request into one of the following categories: 'tourist_circuit' for creating or refining a tourist circuit, 'find_nearby' for finding nearby places, 'validate_circuit' for validating a tourist circuit, or 'other' for any other type of request. Analyze the user's input and return a JSON object with a single key 'flag' and the corresponding action value. For example, flag: detected_flag. Be precise and clear in your categorization."}, {'role': 'user', 'content': 'quelles sont les restaurants cool a proximite'}], 'model': 'gpt-4o', 'max_tokens': 150, 'n': 1, 'stream': False, 'temperature': 0.2}}
2024-05-16 13:28:31,250 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-05-16 13:28:31,250 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2024-05-16 13:28:31,266 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7efd2471d090>
2024-05-16 13:28:31,266 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7efe297b21c0> server_hostname='api.openai.com' timeout=None
2024-05-16 13:28:31,277 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7efd2471cdf0>
2024-05-16 13:28:31,277 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-05-16 13:28:31,278 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-05-16 13:28:31,278 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-05-16 13:28:31,278 - httpcore.http11 - DEBUG - send_request_body.complete
2024-05-16 13:28:31,279 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-05-16 13:28:31,922 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 16 May 2024 13:28:31 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'exxact-robotics'), (b'openai-processing-ms', b'336'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=15724800; includeSubDomains'), (b'x-ratelimit-limit-requests', b'500'), (b'x-ratelimit-limit-tokens', b'30000'), (b'x-ratelimit-remaining-requests', b'499'), (b'x-ratelimit-remaining-tokens', b'29693'), (b'x-ratelimit-reset-requests', b'120ms'), (b'x-ratelimit-reset-tokens', b'614ms'), (b'x-request-id', b'req_580bf5937d53a675453b654913aebc0a'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=uzIby6LIh3EXvNgvdzuW1NsjOjufcIRv_skUBS8UsUg-1715866111-1.0.1.1-ap7LNgYKfaRCaAdC1gGHf5Q5rBgj2uOo13pieAqF0cqqCxdw1bU5bLMtM1wx8wUoIFYvw76qk.sepFvhnymG9A; path=/; expires=Thu, 16-May-24 13:58:31 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=gpkmm71WKi6qGI3GzuHDvyvH4Lg0ygXwbJaF.tnHM0o-1715866111918-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'884bb61b8b83d3a3-CDG'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-05-16 13:28:31,924 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-05-16 13:28:31,924 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-05-16 13:28:31,925 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-05-16 13:28:31,925 - httpcore.http11 - DEBUG - response_closed.started
2024-05-16 13:28:31,925 - httpcore.http11 - DEBUG - response_closed.complete
2024-05-16 13:28:31,926 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Thu, 16 May 2024 13:28:31 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'exxact-robotics'), ('openai-processing-ms', '336'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=15724800; includeSubDomains'), ('x-ratelimit-limit-requests', '500'), ('x-ratelimit-limit-tokens', '30000'), ('x-ratelimit-remaining-requests', '499'), ('x-ratelimit-remaining-tokens', '29693'), ('x-ratelimit-reset-requests', '120ms'), ('x-ratelimit-reset-tokens', '614ms'), ('x-request-id', 'req_580bf5937d53a675453b654913aebc0a'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=uzIby6LIh3EXvNgvdzuW1NsjOjufcIRv_skUBS8UsUg-1715866111-1.0.1.1-ap7LNgYKfaRCaAdC1gGHf5Q5rBgj2uOo13pieAqF0cqqCxdw1bU5bLMtM1wx8wUoIFYvw76qk.sepFvhnymG9A; path=/; expires=Thu, 16-May-24 13:58:31 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=gpkmm71WKi6qGI3GzuHDvyvH4Lg0ygXwbJaF.tnHM0o-1715866111918-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '884bb61b8b83d3a3-CDG'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-05-16 13:28:31,926 - openai._base_client - DEBUG - request_id: req_580bf5937d53a675453b654913aebc0a
2024-05-16 13:28:31,945 - root - INFO - Action Flag: {
  "flag": "find_nearby"
}
2024-05-16 13:28:31,946 - root - INFO - Place type: restaurants
2024-05-16 13:28:31,958 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are a helpful AI assistant.'}, {'role': 'user', 'content': 'Find restaurants near latitude 37.7749 and longitude -122.4194.'}], 'model': 'gpt-4o', 'functions': [{'name': 'Search by Google', 'description': 'Useful when you need to answer questions about current events and real-time information in Benin.Providing information about tourist attractions, landmarks, and cultural sites in Benin.Giving travel advice, including transportation, accommodation, and dining options in Benin.Offering general tips on local customs, weather, and safety in Benin.Performing web searches to provide relevant information based on user queries in Benin.Determining if the request needs GPS information to find nearby places like restaurants, hotels, or tourist spots in Benin.', 'parameters': {'properties': {'__arg1': {'title': '__arg1', 'type': 'string'}}, 'required': ['__arg1'], 'type': 'object'}}], 'max_tokens': 150, 'n': 1, 'stream': False, 'temperature': 0.2}}
2024-05-16 13:28:31,959 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-05-16 13:28:31,960 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2024-05-16 13:28:31,967 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7efd2471cf70>
2024-05-16 13:28:31,968 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7efe2b39be40> server_hostname='api.openai.com' timeout=None
2024-05-16 13:28:31,977 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7efd2471cf40>
2024-05-16 13:28:31,977 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-05-16 13:28:31,977 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-05-16 13:28:31,978 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-05-16 13:28:31,978 - httpcore.http11 - DEBUG - send_request_body.complete
2024-05-16 13:28:31,978 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-05-16 13:28:32,302 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Date', b'Thu, 16 May 2024 13:28:32 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'260'), (b'Connection', b'keep-alive'), (b'openai-organization', b'exxact-robotics'), (b'openai-processing-ms', b'21'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=15724800; includeSubDomains'), (b'x-ratelimit-limit-requests', b'500'), (b'x-ratelimit-limit-tokens', b'30000'), (b'x-ratelimit-remaining-requests', b'499'), (b'x-ratelimit-remaining-tokens', b'29824'), (b'x-ratelimit-reset-requests', b'120ms'), (b'x-ratelimit-reset-tokens', b'352ms'), (b'x-request-id', b'req_893ffb2f1feba2a16a9d0002f2c015b3'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=JwwaMPrY9fL9YhAIECamLil7VBuCg8RPvZDatKjI9yQ-1715866112-1.0.1.1-Yt51f5r947CGknBTmaf88oGorNnJwiW3N4hm1Ys34mWmx7F.dIbSr2qtNVpSxKncGMC23CACHqPZ.l4Ke1gndA; path=/; expires=Thu, 16-May-24 13:58:32 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=ruMn3PK55c.RHwOl1ccBMX_OX5.yhjq0cAgq6OOG0Ew-1715866112299-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'884bb61fdbd66f75-CDG'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-05-16 13:28:32,303 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 400 Bad Request"
2024-05-16 13:28:32,304 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-05-16 13:28:32,304 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-05-16 13:28:32,304 - httpcore.http11 - DEBUG - response_closed.started
2024-05-16 13:28:32,305 - httpcore.http11 - DEBUG - response_closed.complete
2024-05-16 13:28:32,305 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "400 Bad Request" Headers([('date', 'Thu, 16 May 2024 13:28:32 GMT'), ('content-type', 'application/json'), ('content-length', '260'), ('connection', 'keep-alive'), ('openai-organization', 'exxact-robotics'), ('openai-processing-ms', '21'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=15724800; includeSubDomains'), ('x-ratelimit-limit-requests', '500'), ('x-ratelimit-limit-tokens', '30000'), ('x-ratelimit-remaining-requests', '499'), ('x-ratelimit-remaining-tokens', '29824'), ('x-ratelimit-reset-requests', '120ms'), ('x-ratelimit-reset-tokens', '352ms'), ('x-request-id', 'req_893ffb2f1feba2a16a9d0002f2c015b3'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=JwwaMPrY9fL9YhAIECamLil7VBuCg8RPvZDatKjI9yQ-1715866112-1.0.1.1-Yt51f5r947CGknBTmaf88oGorNnJwiW3N4hm1Ys34mWmx7F.dIbSr2qtNVpSxKncGMC23CACHqPZ.l4Ke1gndA; path=/; expires=Thu, 16-May-24 13:58:32 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=ruMn3PK55c.RHwOl1ccBMX_OX5.yhjq0cAgq6OOG0Ew-1715866112299-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '884bb61fdbd66f75-CDG'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-05-16 13:28:32,305 - openai._base_client - DEBUG - request_id: req_893ffb2f1feba2a16a9d0002f2c015b3
2024-05-16 13:28:32,306 - openai._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/opt/conda/envs/stable/lib/python3.10/site-packages/openai/_base_client.py", line 999, in _request
    response.raise_for_status()
  File "/opt/conda/envs/stable/lib/python3.10/site-packages/httpx/_models.py", line 761, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '400 Bad Request' for url 'https://api.openai.com/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2024-05-16 13:28:32,307 - openai._base_client - DEBUG - Not retrying
2024-05-16 13:28:32,307 - openai._base_client - DEBUG - Re-raising status error
2024-05-16 14:09:23,736 - root - INFO - Load APP on MAIN
2024-05-16 14:09:23,737 - root - INFO - Loaded API Key:, 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
2024-05-16 14:39:15,716 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'You are a helpful assistant that translates English to Yoruba.', 'role': 'system'}, {'content': 'Hello, how are you?', 'role': 'user'}], 'model': 'gpt-4o', 'max_tokens': 150, 'n': 1, 'stream': False, 'temperature': 0.0}}
2024-05-16 14:39:15,726 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-05-16 14:39:15,726 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
2024-05-16 14:39:15,753 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4914720fa0>
2024-05-16 14:39:15,753 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f4895775a40> server_hostname='api.openai.com' timeout=None
2024-05-16 14:39:15,763 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4914720d00>
2024-05-16 14:39:15,763 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-05-16 14:39:15,764 - httpcore.http11 - DEBUG - send_request_headers.complete
2024-05-16 14:39:15,764 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-05-16 14:39:15,764 - httpcore.http11 - DEBUG - send_request_body.complete
2024-05-16 14:39:15,765 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-05-16 14:39:16,378 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 16 May 2024 14:39:16 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'exxact-robotics'), (b'openai-processing-ms', b'313'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=15724800; includeSubDomains'), (b'x-ratelimit-limit-requests', b'500'), (b'x-ratelimit-limit-tokens', b'30000'), (b'x-ratelimit-remaining-requests', b'499'), (b'x-ratelimit-remaining-tokens', b'29827'), (b'x-ratelimit-reset-requests', b'120ms'), (b'x-ratelimit-reset-tokens', b'346ms'), (b'x-request-id', b'req_7d0db7c4a69c2d7afbc3b3dce31677b0'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=iLVEf8uX5HcOlGwMQPsTqFMifpllQdP.M8rm6xBxXbs-1715870356-1.0.1.1-_0xLt_xQxEzqY80E1T9_aupu9iwKxvlUrrV.b_LayiFu4Vg3yGFlVGLfhEn6Cps4mGDsAIAHBtOl2M_tlmvKMQ; path=/; expires=Thu, 16-May-24 15:09:16 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=7cZdJg0gj.ABYdZYqMuwTIOzpqIHXLzebd_uwnoSV7Q-1715870356374-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'884c1dbb8c3b6f9a-CDG'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-05-16 14:39:16,379 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-05-16 14:39:16,380 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-05-16 14:39:16,380 - httpcore.http11 - DEBUG - receive_response_body.complete
2024-05-16 14:39:16,381 - httpcore.http11 - DEBUG - response_closed.started
2024-05-16 14:39:16,381 - httpcore.http11 - DEBUG - response_closed.complete
2024-05-16 14:39:16,381 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Thu, 16 May 2024 14:39:16 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'exxact-robotics'), ('openai-processing-ms', '313'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=15724800; includeSubDomains'), ('x-ratelimit-limit-requests', '500'), ('x-ratelimit-limit-tokens', '30000'), ('x-ratelimit-remaining-requests', '499'), ('x-ratelimit-remaining-tokens', '29827'), ('x-ratelimit-reset-requests', '120ms'), ('x-ratelimit-reset-tokens', '346ms'), ('x-request-id', 'req_7d0db7c4a69c2d7afbc3b3dce31677b0'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=iLVEf8uX5HcOlGwMQPsTqFMifpllQdP.M8rm6xBxXbs-1715870356-1.0.1.1-_0xLt_xQxEzqY80E1T9_aupu9iwKxvlUrrV.b_LayiFu4Vg3yGFlVGLfhEn6Cps4mGDsAIAHBtOl2M_tlmvKMQ; path=/; expires=Thu, 16-May-24 15:09:16 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=7cZdJg0gj.ABYdZYqMuwTIOzpqIHXLzebd_uwnoSV7Q-1715870356374-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '884c1dbb8c3b6f9a-CDG'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-05-16 14:39:16,382 - openai._base_client - DEBUG - request_id: req_7d0db7c4a69c2d7afbc3b3dce31677b0
